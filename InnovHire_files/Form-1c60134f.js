define("@wsb/guac-widget-shared/lib/components/Form-1c60134f.js",["exports","@wsb/guac-widget-shared/c/_rollupPluginBabelHelpers","@wsb/guac-widget-shared/lib/common/constants/traffic2","@wsb/guac-widget-shared/lib/common/constants/form/recaptchaTypes","@wsb/guac-widget-shared/lib/common/constants/form/formIdentifiers","@wsb/guac-widget-shared/lib/common/utils/form","@wsb/guac-widget-shared/lib/components/Recaptcha/recaptcha-loader","@wsb/guac-widget-shared/lib/components/Recaptcha/badge"],(function(e,t,r,s,a,o,i,n){"use strict";const l={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},c={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},p={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},g={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},d={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class u{static getFirstMatch(e,t){const r=t.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,t){const r=t.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,t,r){if(e.test(t))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,r=!1){const s=u.getVersionPrecision(e),a=u.getVersionPrecision(t);let o=Math.max(s,a),i=0;const n=u.map([e,t],(e=>{const t=o-u.getVersionPrecision(e),r=e+new Array(t+1).join(".0");return u.map(r.split("."),(e=>new Array(20-e.length).join("0")+e)).reverse()}));for(r&&(i=o-Math.min(s,a)),o-=1;o>=i;){if(n[0][o]>n[1][o])return 1;if(n[0][o]===n[1][o]){if(o===i)return 0;o-=1}else if(n[0][o]<n[1][o])return-1}}static map(e,t){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(s=0;s<e.length;s+=1)r.push(t(e[s]));return r}static find(e,t){let r,s;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,s=e.length;r<s;r+=1){const s=e[r];if(t(s,r))return s}}static assign(e,...t){const r=e;let s,a;if(Object.assign)return Object.assign(e,...t);for(s=0,a=t.length;s<a;s+=1){const e=t[s];if("object"==typeof e&&null!==e){Object.keys(e).forEach((t=>{r[t]=e[t]}))}}return e}static getBrowserAlias(e){return l[e]}static getBrowserTypeByAlias(e){return c[e]||""}}const m=/version\/(\d+(\.?_?\d+)+)/i,b=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=u.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=u.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=u.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=u.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=u.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=u.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=u.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=u.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=u.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=u.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=u.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=u.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=u.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=u.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=u.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=u.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=u.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=u.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=u.getFirstMatch(m,e)||u.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=u.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=u.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=u.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=u.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=u.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=u.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=u.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=u.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=u.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=u.getFirstMatch(m,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:u.getFirstMatch(t,e),version:u.getSecondMatch(t,e)}}}];var h=[{test:[/Roku\/DVP/],describe(e){const t=u.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:g.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=u.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:g.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=u.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=u.getWindowsVersionName(t);return{name:g.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:g.iOS},r=u.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=u.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=u.getMacOSVersionName(t),s={name:g.MacOS,version:t};return r&&(s.versionName=r),s}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=u.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:g.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=u.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=u.getAndroidVersionName(t),s={name:g.Android,version:t};return r&&(s.versionName=r),s}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=u.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:g.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=u.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||u.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||u.getFirstMatch(/\bbb(\d+)/i,e);return{name:g.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=u.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:g.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=u.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:g.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:g.Linux})},{test:[/CrOS/],describe:()=>({name:g.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=u.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:g.PlayStation4,version:t}}}],y=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=u.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:p.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:p.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:p.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:p.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:p.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:p.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:p.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=u.getFirstMatch(/(ipod|iphone)/i,e);return{type:p.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:p.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:p.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:p.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:p.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:p.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:p.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:p.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:p.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:p.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:p.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:p.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:p.tv})}],f=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:d.Blink};const t=u.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:d.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:d.Trident},r=u.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:d.Presto},r=u.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:d.Gecko},r=u.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:d.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:d.WebKit},r=u.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class E{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=u.find(b,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=u.find(h,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=u.find(y,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=u.find(f,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return u.assign({},this.parsedResult)}satisfies(e){const t={};let r=0;const s={};let a=0;if(Object.keys(e).forEach((o=>{const i=e[o];"string"==typeof i?(s[o]=i,a+=1):"object"==typeof i&&(t[o]=i,r+=1)})),r>0){const e=Object.keys(t),r=u.find(e,(e=>this.isOS(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}const s=u.find(e,(e=>this.isPlatform(e)));if(s){const e=this.satisfies(t[s]);if(void 0!==e)return e}}if(a>0){const e=Object.keys(s),t=u.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(s[t])}}isBrowser(e,t=!1){const r=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const a=u.getBrowserTypeByAlias(s);return t&&a&&(s=a.toLowerCase()),s===r}compareVersion(e){let t=[0],r=e,s=!1;const a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(s=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(s=!0,r=e.substr(1)),t.indexOf(u.compareVersions(a,r,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}
/*!
   * Bowser - a browser detector
   * https://github.com/lancedikson/bowser
   * MIT License | (c) Dustin Diaz 2012-2015
   * MIT License | (c) Denis Demchenko 2015-2019
   */const w=(global.React||guac.react).createContext();function R({children:e,dataAids:t={}}){return(global.React||guac.react).createElement(w.Provider,{value:t},e)}R.propTypes={children:(global.PropTypes||guac["prop-types"]).any,dataAids:(global.PropTypes||guac["prop-types"]).object};class C extends(global.React||guac.react).Component{constructor(e){super(e),this.input=(global.React||guac.react).createRef()}componentDidUpdate(){this.props.isFocused&&this.input.focus&&this.input.focus()}render(){const{handleChange:e,handleBlur:t,name:r,placeholder:s,label:a,value:o}=this.props;return(global.React||guac.react).createElement(w.Consumer,null,(i=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Input.FloatLabel,{type:"text",onChange:e,onBlur:t,name:r,placeholder:s,"data-aid":i&&i["FORM_"+a.toUpperCase()]||a,value:o,refCallback:e=>this.input=e})))}}C.propTypes={handleChange:(global.PropTypes||guac["prop-types"]).func.isRequired,handleBlur:(global.PropTypes||guac["prop-types"]).func.isRequired,name:(global.PropTypes||guac["prop-types"]).string,placeholder:(global.PropTypes||guac["prop-types"]).string,label:(global.PropTypes||guac["prop-types"]).string,value:(global.PropTypes||guac["prop-types"]).string,isFocused:(global.PropTypes||guac["prop-types"]).bool};class _ extends(global.React||guac.react).Component{constructor(e){super(e),this.input=(global.React||guac.react).createRef()}componentDidUpdate(){this.props.isFocused&&this.input.focus&&this.input.focus()}render(){const{handleChange:e,handleBlur:t,name:r,placeholder:s,label:a,value:o}=this.props;return(global.React||guac.react).createElement(w.Consumer,null,(i=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Input.TextArea,{tag:"textarea",onChange:e,onBlur:t,name:r,placeholder:s,"data-aid":i["FORM_"+a.toUpperCase()]||a,value:o,style:{resize:"vertical"},refCallback:e=>this.input=e})))}}_.propTypes={handleChange:(global.PropTypes||guac["prop-types"]).func.isRequired,handleBlur:(global.PropTypes||guac["prop-types"]).func.isRequired,name:(global.PropTypes||guac["prop-types"]).string,placeholder:(global.PropTypes||guac["prop-types"]).string,label:(global.PropTypes||guac["prop-types"]).string,value:(global.PropTypes||guac["prop-types"]).string,isFocused:(global.PropTypes||guac["prop-types"]).bool};const{renderModes:S}=(global.Core||guac["@wsb/guac-widget-core"]).constants;class M extends(global.React||guac.react).Component{render(){const{renderMode:e,label:t,style:s,size:a,staticContent:o,isSending:i,fullWidth:n}=this.props,{submitButtonLoadingLabel:l,defaultSubmitButtonLabel:c}=o,p=i?"disabled":"default",g=i?l:t||c,d=e!==S.PUBLISH?r.default.editor_preview.submit_contact_form:null,u=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.submit_form.click",type:"click"}),m=(global.React||guac.react).createElement(w.Consumer,null,(e=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Primary,{tag:"button",type:"submit",style:s,size:a,"data-aid":e.SUBMIT_BUTTON_REND,"data-traffic2":d,"data-tccl":u,children:g,state:p,fullWidth:n})));return this.props.inline?m:(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{textAlign:"center"}},m)}}M.propTypes={label:(global.PropTypes||guac["prop-types"]).string.isRequired,renderMode:(global.PropTypes||guac["prop-types"]).string,width:(global.PropTypes||guac["prop-types"]).string,display:(global.PropTypes||guac["prop-types"]).string,paddingVertical:(global.PropTypes||guac["prop-types"]).string,paddingHorizontal:(global.PropTypes||guac["prop-types"]).string,style:(global.PropTypes||guac["prop-types"]).object,size:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,inline:(global.PropTypes||guac["prop-types"]).bool,isSending:(global.PropTypes||guac["prop-types"]).bool,fullWidth:(global.PropTypes||guac["prop-types"]).bool};var T={supportedMimetypes:["image/gif","image/jpeg","image/pjpeg","image/png","image/tiff","image/x-tiff","application/x-font-otf","application/font-woff","application/font-woff2","audio/mpeg3","audio/x-mpeg-3","audio/mpeg","audio/x-wav","audio/wav","audio/x-flac","audio/mp4","audio/x-m4a","audio/mp3","text/csv","video/x-msvideo","video/quicktime","video/mpeg","video/mp4","video/x-matroska","video/ogg","video/x-ms-vob","video/x-m4v","video/3gpp","video/webm","image/webp","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.template.macroEnabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.text","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/pdf","text/plain","application/zip","application/x-zip","application/x-zip-compressed","application/x-compress","application/x-compressed","multipart/x-zip","application/rtf","text/rtf"],supportedFileTypes:[".jpg",".jpeg",".jpe",".png",".gif",".mp4",".m4a",".vid",".qt",".mov",".mpeg",".mpga",".mp2",".mp2a",".mp3",".m2a",".m3a",".msvideo",".ogg",".3gpp",".webm",".webp",".flac",".wav",".tiff",".mkv",".mk3d",".mks",".doc",".docx",".dot",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".potx",".ppsx",".pdf",".txt",".text",".conf",".def",".list",".log",".in",".ini",".zip",".otf",".woff",".woff2",".csv",".rtf"]};const F=1e6,v="KB",P="MB",O=10,x={attachmentsWrapper:{display:"flex",flexDirection:"column"},fileInputWrapper:{display:"flex",justifyContent:"space-between",marginBottom:"small"},fileInputContainer:{display:"flex",alignItems:"center"},fileContainer:{marginBottom:"xsmall",display:"flex",flexDirection:"column",paddingVertical:"small",paddingHorizontal:"medium",backgroundColor:"rgba(0,0,0,.03)"},errorFileContainer:{display:"flex",paddingVertical:"small",paddingRight:"medium"},filenameWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},displayName:{maxWidth:"85%"}};class B extends(global.React||guac.react).Component{constructor(e){super(e),t._defineProperty(this,"onFilesSelected",(e=>{const{onFilesSelected:t,staticContent:r}=this.props,s=[],a=[],o=e.target.files;if(!o||!o.length)return;const i=this.state.files.map((e=>e.file)).concat((global._||guac.lodash).toArray(o));let n=0;i.forEach((e=>{n+=e.size,e.size>1e7?a.push({hasError:!0,error:r.fileSizeLimit.replace("{0}","10MB"),file:e}):T.supportedMimetypes.includes(e.type)?s.length>=O?this.setState({globalError:r.maxFileCountLimit.replace("{0}",O)}):n>15e6?a.push({hasError:!0,error:r.totalFileSizeLimit.replace("{0}","15MB"),file:e}):s.push({file:e}):a.push({hasError:!0,error:r.unsupportedFileType,file:e})})),this.setState({files:s,errorFiles:a}),t&&t(s)})),t._defineProperty(this,"renderFileInput",(e=>{const{staticContent:t,attachmentsLabel:r}=this.props,{files:s}=this.state,a=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.contact.upload_file.click",type:"click"});return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:x.fileInputWrapper},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{tag:"span","data-aid":e.ATTACHMENT_COUNT_REND},`${t.attachments} (${s.length})`),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:x.fileInputContainer,"data-aid":e.FILE_INPUT_REND},s.length<O&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{onClick:this.uploadFiles,"data-tccl":a},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link.Icon,{tag:"span",icon:"paperclip",size:"small",rotate:"0"}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{tag:"span"},r||t.attachFiles)),s.length>=O&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{style:{color:"grey"},icon:"paperclip",size:"small",rotate:"0"}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{disabled:!0,tag:"span"},r||t.attachFiles))),(global.React||guac.react).createElement("input",{multiple:!0,onChange:this.onFilesSelected,ref:e=>{this.fileInput=e},type:"file",accept:T.supportedFileTypes.join(","),style:{display:"none"}}))})),t._defineProperty(this,"removeFile",((e,t)=>{const{staticContent:r}=this.props,{files:s,errorFiles:a}=this.state;return()=>{const o=t?a:s;o.splice(e,1),this.fileInput.value=null;const i=o.length>O?r.maxFileCountLimit.replace("{0}",O):"";t?this.setState({errorFiles:o,globalError:i}):this.setState({files:o,globalError:i})}})),t._defineProperty(this,"getUploadProgress",(()=>{const{progressEvent:e}=this.props;if(e){const t=e.loaded,r=e.total;return Math.round(t/r*100)}return 0})),t._defineProperty(this,"renderFile",((e,t,r)=>{const{section:s,progressEvent:a}=this.props;return this.getUploadProgress(e.file),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{section:"default"!==s?"default":"alt",style:x.fileContainer},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:x.filenameWrapper},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{tag:"span",style:x.displayName,"data-aid":r.FILE_NAME_REND,featured:!0},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element,{tag:"span"},`${e.file.name} ${this.getSizeString(e.file.size)}`)),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{onClick:this.removeFile(t)},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link.Icon,{icon:"close",size:"small"}))),e.hasError&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{alert:!0,style:{width:"100%"}},e.error),!e.hasError&&a&&(global.React||guac.react).createElement("progress",{style:{marginTop:"8px",width:"100%"},max:100,value:this.getUploadProgress()}))})),t._defineProperty(this,"renderErrorFile",((e,t,r)=>{const{section:s}=this.props;return this.getUploadProgress(e.file),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{section:"default"!==s?"default":"alt",style:x.errorFileContainer},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:x.filenameWrapper},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{style:{color:"red",marginRight:"xxsmall"},icon:"alert",size:"medium",rotate:"0"}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{tag:"span",style:x.displayName,"data-aid":r.FILE_NAME_REND,alert:!0},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element,{tag:"span"},`${e.error}: ${e.file.name} ${this.getSizeString(e.file.size)}`))),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{onClick:this.removeFile(t,!0)},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link.Icon,{icon:"close",size:"small"}))))})),t._defineProperty(this,"renderFiles",((e,t)=>{const{currentFiles:r}=this.props,{files:s,errorFiles:a}=this.state,o=t?a:s;if(!(o.length||r.length))return null;const i=t?this.renderErrorFile:this.renderFile;return o.map(((t,r)=>i(t,r,e)))})),this.uploadFiles=this.uploadFiles.bind(this),this.state={files:[],globalError:"",errorFiles:[]}}uploadFiles(){this.fileInput.click()}getSizeString(e){return(e<F?v:P)===v?`(${Math.round(e/1e3*100)/100} KB)`:`(${Math.round(e/F*100)/100} MB)`}render(){const{attachmentsEnabled:e,staticContent:t}=this.props,{errorFiles:r}=this.state;if(!e)return null;const{globalError:s}=this.state;return(global.React||guac.react).createElement(w.Consumer,null,(e=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:x.attachmentsWrapper},this.renderFileInput(e),this.renderFiles(e),r&&r.length>0&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{marginTop:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{featured:!0,style:{width:"100%"}},t.couldNotAttach+":"),this.renderFiles(e,!0)),s&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{alert:!0},s))))}}B.propTypes={handleChange:(global.PropTypes||guac["prop-types"]).func.isRequired,handleBlur:(global.PropTypes||guac["prop-types"]).func.isRequired,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,currentFiles:(global.PropTypes||guac["prop-types"]).array,onFilesSelected:(global.PropTypes||guac["prop-types"]).func,section:(global.PropTypes||guac["prop-types"]).string,attachmentsEnabled:(global.PropTypes||guac["prop-types"]).bool,attachmentsLabel:(global.PropTypes||guac["prop-types"]).string,progressEvent:(global.PropTypes||guac["prop-types"]).any};var N={SINGLE_LINE:C,MULTI_LINE:_,EMAIL:C,SUBMIT:M,PHONE:C,ATTACHMENT:B};class k extends(global.React||guac.react).Component{constructor(e){super(e),t._defineProperty(this,"handleChange",(e=>{this.setState({value:e.target.value},this.props.reset)})),t._defineProperty(this,"handleBlur",(()=>{this.props.resetFocus(),this.props.validationInputFunc()})),this.state={value:""}}render(){const{value:e}=this.state,r=N[this.props.type];return(global.React||guac.react).createElement(r,t._extends({handleChange:this.handleChange,handleBlur:this.handleBlur,value:e},this.props))}}k.propTypes={type:(global.PropTypes||guac["prop-types"]).string.isRequired,validationInputFunc:(global.PropTypes||guac["prop-types"]).func,reset:(global.PropTypes||guac["prop-types"]).func.isRequired,resetFocus:(global.PropTypes||guac["prop-types"]).func},k.defaultProps={validationInputFunc:()=>{},resetFocus:()=>{}};class I extends(global.React||guac.react).Component{constructor(...e){super(...e),t._defineProperty(this,"styles",{successBlock:{backgroundColor:"section","@sm":{padding:"xlarge"}},messagesBlock:{textAlign:"center","@md":{maxHeight:"400px",overflowY:"auto"}},messagesIcon:{fill:"highlight"},messagesText:{marginTop:"small",marginBottom:"large",color:"highlight"},subscribeBlock:{textAlign:"center",paddingVertical:"medium",paddingHorizontal:"large",marginTop:"xxlarge",backgroundColor:"section","@md":{maxHeight:"400px",overflowY:"auto"}}})}renderMessageSuccess(){return(global.React||guac.react).createElement(w.Consumer,null,(e=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:this.styles.messagesBlock,group:"Group"},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":e.FORM_SUBMIT_SUCCESS},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,{tag:"svg",icon:"ok",size:"xxlarge",style:this.styles.messagesIcon})),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":e.FORM_SUBMIT_SUCCESS_MESSAGE,style:this.styles.messagesText,richtext:!0},this.props.formSuccessMessage))))}renderSubscribeSuccess(){return(global.React||guac.react).createElement(w.Consumer,null,(e=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:this.props.category,section:"alt",style:this.styles.subscribeBlock},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":e.FORM_SUBSCRIBE_SUCCESS_MESSAGE,featured:!0,richtext:!0},this.props.emailConfirmationMessage))))}render(){return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{category:this.props.category,section:"default",style:this.styles.successBlock},this.renderMessageSuccess(),this.props.optedToSubscribe&&this.renderSubscribeSuccess())}}I.propTypes={formSuccessMessage:(global.PropTypes||guac["prop-types"]).string,emailConfirmationMessage:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,optedToSubscribe:(global.PropTypes||guac["prop-types"]).bool};const A=/^[A-Z0-9+_.-]+@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,63}(?:\.[a-z]{2})?)$/i,U=/^1?[0-9]{3}[0-9]{3}?[0-9]{4}$/i;var L={email:{test:function(e){return A.test(e.trim())}},emailAllowEmpty:{test:function(e){return!e||A.test(e.trim())}},emailMaxCount:{test:function(e){return(global._||guac.lodash).get(e,"length",0)<=80}},phone:{test:function(e){return/^\d{7,}$/.test(e.replace(/[\s()+\-.]|ext/gi,""))}},phoneUsOnly:{test:function(e){return U.test(e.replace(/[\s()+\-.]|ext/gi,""))}},required:{test:function(e){return!!e&&e.length>0}},maxCount:{test:function(e,{maxCount:t}){return e&&e.length<=t}}};const X="/form/$",{utils:{getRoute:D}}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;class q extends(global.React||guac.react).Component{constructor(e){super(e),t._defineProperty(this,"resetField",(()=>{this.setState({isValid:!0})})),this.displayName="FieldWithValidation";const{validation:r,required:s}=this.props;this.state={isValid:!0,validation:r||s&&"required",firstError:""},this.validate=this.validate.bind(this),this.getDataForSubmission=this.getDataForSubmission.bind(this)}componentWillReceiveProps(e){const{validation:t,required:r}=e;this.setState({validation:t||r&&"required"})}validate(){const{maxCount:e}=this.props,{validation:t}=this.state;let r,s;return t?Array.isArray(t)&&t.length?(s=t.find((t=>!L[t].test(this._field.state.value,{maxCount:e}))),r=!s):r=L[t].test(this._field.state.value,{maxCount:e}):r=!0,this.setState({isValid:r,firstError:s}),r}getDataForSubmission(){const{label:e,replyTo:t,type:r,keyName:s}=this.props;if("SUBMIT"===r)return null;let a=this._field.state.value;"EMAIL"===r?a=a.trim():"PHONE"===r&&(a=a.replace(/\+| |-|\(|\)/g,""));const o={label:e,value:a};return t&&(o.replyTo=t),s&&(o.keyName=s),o}renderErrorMessage(){const{type:e,renderMode:t,staticContent:r}=this.props;if(this.state.isValid||"EDIT"===t)return null;const s=this.state.firstError||this.state.validation;return(global.React||guac.react).createElement(w.Consumer,null,(t=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Error,{"data-aid":"EMAIL"===e?t.EMAIL_ERR_REND:t.ERR_REND,style:{textAlign:"left"},children:r[s+"ValidationErrorMessage"]})))}render(){const{isValid:e}=this.state;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingBottom:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-field-id":"formFields.label","data-field-route":D(X,[this.props.index])},(global.React||guac.react).createElement(k,t._extends({validationInputFunc:this.props.validation&&this.validate,reset:this.resetField,ref:e=>this._field=e},this.props,{placeholder:this.props.label+(this.props.required?"*":""),"aria-required":this.props.required,"aria-invalid":e})),this.renderErrorMessage()))}}q.propTypes={label:(global.PropTypes||guac["prop-types"]).string.isRequired,required:(global.PropTypes||guac["prop-types"]).bool,validation:(global.PropTypes||guac["prop-types"]).string,replyTo:(global.PropTypes||guac["prop-types"]).bool,type:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,renderMode:(global.PropTypes||guac["prop-types"]).string,index:(global.PropTypes||guac["prop-types"]).number,keyName:(global.PropTypes||guac["prop-types"]).string,maxCount:(global.PropTypes||guac["prop-types"]).number},q.defaultProps={label:""};const{utils:{getRoute:z}}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;class j extends(global.React||guac.react).Component{constructor(e){super(e)}render(){return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingBottom:"medium"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-field-id":"formFields.attachmentsEnabled","data-field-route":z(X,[this.props.index])},(global.React||guac.react).createElement(k,this.props)))}}j.propTypes={label:(global.PropTypes||guac["prop-types"]).string.isRequired,required:(global.PropTypes||guac["prop-types"]).bool,validation:(global.PropTypes||guac["prop-types"]).string,replyTo:(global.PropTypes||guac["prop-types"]).bool,type:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,attachmentsEnabled:(global.PropTypes||guac["prop-types"]).bool,attachmentsLabel:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string,index:(global.PropTypes||guac["prop-types"]).number,keyName:(global.PropTypes||guac["prop-types"]).string,maxCount:(global.PropTypes||guac["prop-types"]).number,section:(global.PropTypes||guac["prop-types"]).string.isRequired};class V extends(global.React||guac.react).Component{render(){const{style:e,staticContent:t,onClick:r,tag:s}=this.props;return(global.React||guac.react).createElement(w.Consumer,null,(a=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{"data-aid":a.CANCEL_BUTTON_REND,style:{width:"fit-content",margin:"0 auto",textDecoration:"underline",color:"highlight",textAlign:"center",":hover":{cursor:"pointer"},...e},tag:s,onClick:r},t.defaultCancelButtonLabel)))}}V.defaultProps={staticContent:{},tag:"p"},V.propTypes={renderMode:(global.PropTypes||guac["prop-types"]).string,style:(global.PropTypes||guac["prop-types"]).object,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,onClick:(global.PropTypes||guac["prop-types"]).object.isRequired,tag:(global.PropTypes||guac["prop-types"]).string};class W extends(global.React||guac.react).Component{render(){const{onChange:e,value:t}=this.props;return(global.React||guac.react).createElement("input",{type:"text",name:"_app_id",autoComplete:"off",tabIndex:"-1",style:{display:"none"},onChange:e,value:t})}}W.propTypes={onChange:(global.PropTypes||guac["prop-types"]).func.isRequired,value:(global.PropTypes||guac["prop-types"]).string};var H=[200,204];class G extends(global.React||guac.react).Component{render(){const{staticContent:e={}}=this.props,t={"{privacyPolicy}":[e.privacyPolicy,e.privacyPolicyURL],"{termsOfSerivce}":[e.termsOfSerivce,e.termsOfSerivceURL]},{recaptchaDisclosure:r=""}=e,s=Object.keys(t).reduce(((e,t)=>{const r=new RegExp(`(${t})`);return(global._||guac.lodash).flatten(e.map((e=>e.split(r))))}),[r]);return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details.Minor,null,s.map((e=>{if(t[e]){const[r,s]=t[e];return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Link,{href:s,target:"_blank"},r)}return e})))}}G.propTypes={staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired};const{IntersectionObserver:$}=(global.Core||guac["@wsb/guac-widget-core"]).UX,{MESSAGING_CONVERSATIONS:K,CONTACT_US:Q}=a.default;class Z extends(global.React||guac.react).Component{constructor(e){super(e),t._defineProperty(this,"onHoneypotChange",(e=>{this.setState({honeypotValue:e.target.value})})),t._defineProperty(this,"handleVisible",(()=>{this.setState({visible:!0})})),t._defineProperty(this,"createFilesRequest",((e,t)=>{const r=new FormData;return r.append("payload",JSON.stringify(e)),t.forEach((e=>{e.hasError||r.append("file",e.file)})),r})),t._defineProperty(this,"updateUploadProgress",(e=>{this.setState({progressEvent:e})})),t._defineProperty(this,"sendForm",((e=null)=>{const{formSubmitHost:t,formSubmitEndpoint:r}=this.props;if(!t)return;const{files:s}=this.state,a=this.buildRequestBody(e);let o=JSON.stringify(a);const i=new XMLHttpRequest;i.open("POST",`${t}${r}`),s&&s.length?(i.upload.addEventListener("progress",this.updateUploadProgress,!1),o=this.createFilesRequest(a,s)):i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.onreadystatechange=this.handleSubmitResponse(i),i.send(o)})),t._defineProperty(this,"onFilesSelected",(e=>{this.setState({files:e})})),t._defineProperty(this,"onSubmit",(e=>{e.preventDefault(),this.validateAndSend(),this.props.onFormSubmit&&this.props.onFormSubmit()})),t._defineProperty(this,"closeForm",(e=>{e.preventDefault(),this.props.onFormClose&&this.props.onFormClose()})),this._fields={},this.responseStatus=0,this.state={formSubmitted:!1,responseReceived:!1,optedToSubscribe:!1,honeypotValue:"",visible:"PUBLISH"!==e.renderMode,focusedFormInputIndex:-1,files:[],progressEvent:null},this.resetFocus=this.resetFocus.bind(this)}componentDidMount(){this.timestamp=Date.now()}resetFocus(){this.setState({focusedFormInputIndex:-1})}validateForm(){const e=this._fields,t=(global._||guac.lodash).findIndex(Object.keys(e),(t=>!e[t].validate()));return this.setState({focusedFormInputIndex:t}),Object.keys(e).map((t=>e[t].validate())).every((e=>e))}buildMetadata(){const{formIdentifier:e}=this.props,{parsedResult:{browser:t,os:r,platform:s}={}}=class{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new E(e,t)}static parse(e){return new E(e).getResult()}static get BROWSER_MAP(){return c}static get ENGINE_MAP(){return d}static get OS_MAP(){return g}static get PLATFORMS_MAP(){return p}}.getParser(window.navigator.userAgent),{pathname:a}=window.location;return{formIdentifier:e,pathName:a,...s.type?{deviceType:s.type}:{},...r.name?{deviceOs:r.name}:{},...t.name?{browserName:t.name}:{}}}buildRequestBody(e=null){const{websiteId:t,widgetId:r,pageId:s,accountId:a,domainName:o,locale:i,isReseller:n}=this.props,{optedToSubscribe:l,honeypotValue:c}=this.state,p=this.buildMetadata(),g=[];return Object.keys(this._fields).forEach((e=>{const t=this._fields[e].getDataForSubmission();t&&g.push(t)})),g.push({label:"_app_id",value:c}),{websiteId:t,widgetId:r,pageId:s,accountId:a,domainName:o,optedToSubscribe:l,locale:i,metadata:p,formData:g,recaptchaToken:e,isReseller:n}}handleSubmitResponse(e){return()=>{const{status:t,readyState:r}=e;4===r&&(this.responseStatus=t,this.setState({responseReceived:!0,formSubmitted:H.includes(t)}))}}validateTimestamp(){return Date.now()-this.timestamp>3e3}validateAndSend(){this.validateTimestamp()&&this.validateForm()&&(this.props.recaptchaEnabled?this.recaptcha.execute():this.sendForm(),this.setState({formSubmitted:!0,responseReceived:!1}))}renderResponseErrorMessage(e){const t=this.props.staticContent.contactFormResponseErrorMessage;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Error,{"data-aid":this.dataAids.FORM_RESPONSE_ERR_REND,style:{paddingBottom:e?"medium":0,textAlign:"left"},children:t})}renderButtons(e,r,s={}){const{formSubmitted:a}=this.state,o=s.SUBMIT||{},i={wrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",paddingTop:"medium"},cancel:{display:"inline",margin:0,"@xs-only":{marginTop:"medium"},"@sm":{marginLeft:"small"}}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{className:"controls",style:i.wrapper,"data-aid":this.dataAids.FORM_CONTROLS},(global.React||guac.react).createElement(k,t._extends({type:"SUBMIT",label:e.label,inline:!0,isSending:a},(global._||guac.lodash).omit(this.props,"style"),o)),r&&(global.React||guac.react).createElement(V,t._extends({onClick:this.closeForm},this.props,{style:i.cancel,tag:"span"})))}renderEmailOptIn(){const{emailOptInEnabled:e,emailOptInMessage:t,formFieldVariationOptions:r={},category:s}=this.props,a={marginBottom:"medium",display:"flex",justifyContent:"center",...r.EMAIL_OPT_IN&&r.EMAIL_OPT_IN.styleOverrides||{}};return e&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:a},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Input.Checkbox,{"data-aid":this.dataAids.FORM_EMAIL_OPT_IN,checked:this.state.optedToSubscribe,onChange:()=>{this.setState({optedToSubscribe:!this.state.optedToSubscribe})},category:s,textProps:{children:t,"data-field-route":"/form","data-route":"emailOptInMessage"}}))}renderSmartColumns(e){const{formFields:t,useCloseButton:r,formFieldVariationOptions:s}=e,a=this.renderEmailOptIn(),i=this.renderButtons(t[t.length-1],r,s);let n=12,l=null;const{useSecondColumn:c,numberOfFieldsOnLeftSide:p}=o.getFieldsBalancingInfo(t);c&&(n=6,l=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,{"data-aid":this.dataAids.FORM_COL2,xs:12,md:6},this.renderFieldsBlock(t.slice(p,t.length-1),p,!0)));const g=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid.Cell,{"data-aid":this.dataAids.FORM_COL1,xs:12,md:n},this.renderFieldsBlock(t.slice(0,p),0,!0));return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid,{bottom:!1},g,l),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,null,a,this.renderRecaptcha(),i))}renderFieldsBlock(e,r=0,s=!1){const{formFieldVariationOptions:a,staticContent:o,renderMode:i,emailOptInEnabled:n,fullWidth:l,formIdentifier:c}=this.props,{formSubmitted:p,responseReceived:g,focusedFormInputIndex:d,optedToSubscribe:u}=this.state,m=n&&!s,b=c===K,h=b&&m&&!u;let y=!1,f=e.length,E=m?e.length+1:e.length;const w=e.map(((e,s)=>{const n=s===d,c=a&&a[e.type]||{},g=Object.assign(c,e,{staticContent:o,renderMode:i,fullWidth:l});let u="email"===e.validation?["email","emailMaxCount"]:e.validation;if("SUBMIT"===e.type&&(Object.assign(g,{isSending:p}),y=!0),"EMAIL"===e.type&&h&&(u=["emailAllowEmpty","emailMaxCount"],Object.assign(g,{required:!1})),("PHONE"===e.type||"SINGLE_LINE"===e.type&&"phone"===u)&&(Object.assign(g,{keyName:"phone"}),u=b?["required","phone","phoneUsOnly"]:"phone"),"ATTACHMENT"===e.type){if(!e.attachmentsEnabled)return null;const{files:r,progressEvent:a}=this.state;return Object.assign(g,{currentFiles:r,onFilesSelected:this.onFilesSelected,progressEvent:a}),(global.React||guac.react).createElement(j,t._extends({key:s,index:s},g))}return(global.React||guac.react).createElement(q,t._extends({ref:e=>this._fields[s+r]=e,key:s,index:s,isFocused:n,resetFocus:this.resetFocus},g,{validation:u}))}));return m&&(f=y?f-1:f,w.splice(f,0,this.renderEmailOptIn())),g&&!H.includes(this.responseStatus)&&0===r&&(E=y?E-1:E,w.splice(E,0,this.renderResponseErrorMessage(y))),y&&w.splice(w.length,0,this.renderRecaptcha(),this.renderLegalDisclosure()),w}renderLegalDisclosure(){const{staticContent:e,formIdentifier:t}=this.props,{messagesRatesLegalDisclosure:r}=e;return t===K&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingBottom:"medium",textAlign:"center"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Details.Minor,{fontSize:"xsmall"},r))}renderRecaptcha(){const{recaptchaEnabled:e,recaptchaType:t,staticContent:r,formSubmitHost:s}=this.props,{visible:a}=this.state;return e?a?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{paddingTop:"xsmall",paddingBottom:"small",textAlign:"center"}},(global.React||guac.react).createElement(i.default,{ref:e=>{this.recaptcha=e},type:t,formSubmitHost:s,onComplete:this.sendForm}),(global.React||guac.react).createElement(G,{staticContent:r}),(global.React||guac.react).createElement(n.default,null)):(global.React||guac.react).createElement($,{callback:this.handleVisible}):null}renderCloseIcon(){const{useCloseIcon:e,onFormClose:r,formFieldVariationOptions:s={}}=this.props;if(!e||!r)return null;const a=s.CLOSE_ICON||{},o=s.CLOSE_ICON_WRAPPER||{},i={container:{position:"absolute",paddingTop:"small",paddingRight:"medium",right:0,top:0},icon:{cursor:"pointer"}};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,t._extends({style:i.container},o),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Icon,t._extends({icon:"close",size:"medium",style:i.icon,onClick:r},a)))}render(){const{category:e,formSuccessMessage:r,emailConfirmationMessage:s,useColumnLayout:a,style:o,formFields:i,onFormClose:n,dataAidPrefix:l,title:c,useCloseButton:p}=this.props,{formSubmitted:g,responseReceived:d,optedToSubscribe:u,honeypotValue:m}=this.state;return(global.React||guac.react).createElement(w.Consumer,null,(b=>{const h=Boolean((!b||(global._||guac.lodash).isEmpty(b))&&l);var y;let f;this.dataAids=h?{prefix:y=l,CANCEL_BUTTON_REND:y+"_CANCEL_BUTTON_REND",EMAIL_ERR_REND:y+"_EMAIL_ERR_REND",ERR_REND:y+"_ERR_REND",FORM_CONTAINER_REND:y+"_FORM_CONTAINER_REND",FORM_TITLE_REND:y+"_FORM_TITLE_REND",FORM_NAME:y+"_FORM_NAME",FORM_EMAIL:y+"_FORM_EMAIL",FORM_PHONE:y+"_FORM_PHONE",FORM_MESSAGE:y+"_FORM_MESSAGE",FORM_SUBMIT_SUCCESS:y+"_FORM_SUBMIT_SUCCESS",FORM_SUBMIT_SUCCESS_MESSAGE:y+"_FORM_SUBMIT_SUCCESS_MESSAGE",FORM_SUBSCRIBE_SUCCESS_MESSAGE:y+"_FORM_SUBSCRIBE_SUCCESS_MESSAGE",FORM_REVEAL_BUTTON_REND:y+"_FORM_REVEAL_BUTTON_REND",FORM_COL1:y+"_FORM_COL1",FORM_COL2:y+"_FORM_COL2",FORM_CONTROLS:y+"_FORM_CONTROLS",FORM_CONTAINER_MOBILE:y+"_FORM_CONTAINER_MOBILE",FORM_CONTAINER_DESKTOP:y+"_FORM_CONTAINER_DESKTOP",FORM_CONTAINER_MOBILE_REND:y+"_FORM_CONTAINER_MOBILE_REND",FORM_CONTAINER_DESKTOP_REND:y+"_FORM_CONTAINER_DESKTOP_REND",FORM_RESPONSE_ERR_REND:y+"_FORM_RESPONSE_ERR_REND",FORM_EMAIL_OPT_IN:y+"_FORM_EMAIL_OPT_IN",SUBMIT_BUTTON_REND:y+"_SUBMIT_BUTTON_REND",ATTACHMENT_COUNT_REND:y+"_ATTACHMENT_COUNT_REND",FILE_INPUT_REND:y+"_FILE_INPUT_REND",FILE_NAME_REND:y+"_FILE_NAME_REND"}:b||{},g&&d&&H.includes(this.responseStatus)&&(f=(global.React||guac.react).createElement(I,{formSuccessMessage:r,emailConfirmationMessage:s,category:e,optedToSubscribe:u}));const E=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Form,{tag:"form",onSubmit:this.onSubmit,style:o,"aria-live":"polite"},(global.React||guac.react).createElement(W,{value:m,onChange:this.onHoneypotChange}),this.renderCloseIcon(),c,a?this.renderSmartColumns(this.props):this.renderFieldsBlock(i),n&&!a&&p&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{className:"controls"},(global.React||guac.react).createElement(V,t._extends({onClick:this.closeForm},this.props,{tag:"p"})))),w=f||E;return h?(global.React||guac.react).createElement(R,{dataAids:this.dataAids},w):w}))}}Z.propTypes={domainName:(global.PropTypes||guac["prop-types"]).string,formSubmitHost:(global.PropTypes||guac["prop-types"]).string,formSubmitEndpoint:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,formSuccessMessage:(global.PropTypes||guac["prop-types"]).string,formFields:(global.PropTypes||guac["prop-types"]).array,formFieldVariationOptions:(global.PropTypes||guac["prop-types"]).object,accountId:(global.PropTypes||guac["prop-types"]).string.isRequired,isReseller:(global.PropTypes||guac["prop-types"]).bool,websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,widgetId:(global.PropTypes||guac["prop-types"]).string,pageId:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object.isRequired,onFormClose:(global.PropTypes||guac["prop-types"]).func,onFormSubmit:(global.PropTypes||guac["prop-types"]).func,onHoneypotChange:(global.PropTypes||guac["prop-types"]).func,style:(global.PropTypes||guac["prop-types"]).object,fullWidth:(global.PropTypes||guac["prop-types"]).bool,useColumnLayout:(global.PropTypes||guac["prop-types"]).bool,showMap:(global.PropTypes||guac["prop-types"]).bool,renderMode:(global.PropTypes||guac["prop-types"]).string,locale:(global.PropTypes||guac["prop-types"]).string,emailConfirmationMessage:(global.PropTypes||guac["prop-types"]).string,emailOptInEnabled:(global.PropTypes||guac["prop-types"]).bool,emailOptInMessage:(global.PropTypes||guac["prop-types"]).string,recaptchaEnabled:(global.PropTypes||guac["prop-types"]).bool,recaptchaType:(global.PropTypes||guac["prop-types"]).oneOf(Object.values(s.default)).isRequired,dataAidPrefix:(global.PropTypes||guac["prop-types"]).string,title:(global.PropTypes||guac["prop-types"]).node,formIdentifier:(global.PropTypes||guac["prop-types"]).oneOf(Object.values(a.default)),useCloseIcon:(global.PropTypes||guac["prop-types"]).bool,useCloseButton:(global.PropTypes||guac["prop-types"]).bool},Z.defaultProps={formSubmitEndpoint:"/v3/messages",dataAidPrefix:"CONTACT",formIdentifier:Q,useCloseIcon:!1,useCloseButton:!0},e.default=Z,Object.defineProperty(e,"__esModule",{value:!0})})),"undefined"!=typeof window&&(window.global=window);
